<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Avoid Rerendering on changing sibling component in React.js &amp; React Native | SourceSnippet</title><link rel="shortcut icon" type="image/x-icon" href="/static/favicon.ico?"/><link rel="preload" href="/static/copy-done-icon.png" as="image"/><link rel="stylesheet" href="/static/code-styles.css"/><link rel="stylesheet" href="/static/global-styles.css"/><script src="/static/snippets.js"></script><meta name="description" content="Avoid Rerendering on changing sibling component in React.js &amp; React Native | SourceSnippet"/><meta name="keywords" content="react-native, reactjs"/><meta name="author" content="Manas R. Makde"/><meta property="og:type" content="website"/><meta property="og:site_name" content="SourceSnippet"/><meta property="og:url" content="https://sourcesnippet.com/snippets/avoid-rerendering-changing-sibling-component-react/"/><meta property="og:title" content="Avoid Rerendering on changing sibling component in React.js &amp; React Native | SourceSnippet"/><meta property="og:image" content="https://sourcesnippet.com/snippets/avoid-rerendering-changing-sibling-component-react/avoid-sibling-rerender-react.gif"/><meta name="twitter:site" content="SourceSnippet"/><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:url" content="https://sourcesnippet.com/snippets/avoid-rerendering-changing-sibling-component-react/"/><meta property="twitter:title" content="Avoid Rerendering on changing sibling component in React.js &amp; React Native | SourceSnippet"/><meta property="twitter:image" content="https://sourcesnippet.com/snippets/avoid-rerendering-changing-sibling-component-react/avoid-sibling-rerender-react.gif"/></head><body><a id="site-header" href="/"><img id="site-logo" alt="logo" src="/static/logo.png"/><div id="site-title">SourceSnippet</div><div id="site-motto">Come. Copy. Go. As simple as that!</div></a><div id="searchbar" class="search-wrapper"><script src="/static/search.js" type="module"></script><input type="text" placeholder="Search..." class="search-input"/><div class="search-dropdown"><div class="search-results"></div><a href="#" style="display:none" class="search-more">Show all results</a><a style="display:none" class="search-nonefound">No results found</a><a style="display:none" class="search-loading">Loading...</a></div><button aria-label="Search Button" class="search-btn"></button></div><hr/><nav id="navbar"><a href="/tags">Tags</a><a href="/about">About</a><a href="/terms">Terms</a><a href="/contact">Contact</a></nav><hr style="margin-bottom: 2rem"/><div id="snippet-header"><img id="snippet-thumbnail" src="avoid-sibling-rerender-react.gif" onerror="if(this.src!=='/static/placeholder.png')this.src='/static/placeholder.png'" alt="thumbnail"/><div id="snippet-card-title-wrapper"><h1 id="snippet-card-title">Avoid Rerendering on changing sibling component in React.js &amp; React Native</h1><a id="snippet-author" href="https://manasmakde.github.io/">By Manas R. Makde</a></div></div><article id="snippet-content"><p><strong>Traditional method</strong> (Top part of gif)</p>
<div class="codetabs"><div class="codetabs-topbar"><button onclick="changeTabByButton(this, 0)" class="codetabs-selected">React Native</button><button onclick="changeTabByButton(this, 1)">React.js</button></div><button onclick="copyCode(this)" class="codetabs-copy"></button><div class="codetabs-content"><pre class=" codetabs-active"><code display-name="React Native" style="max-height:31rem;" class="hljs language-jsx"><span class="hljs-keyword">import</span> { useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">View</span>, <span class="hljs-title class_">StyleSheet</span>, <span class="hljs-title class_">Button</span>, <span class="hljs-title class_">Text</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-native&quot;</span>;


<span class="hljs-keyword">const</span> <span class="hljs-title function_">CustomButton</span> = (<span class="hljs-params">props</span>) => {

  <span class="hljs-keyword">const</span> renderCounter = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);
  renderCounter.<span class="hljs-property">current</span> = renderCounter.<span class="hljs-property">current</span> + <span class="hljs-number">1</span>;

  <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.button_wrapper}</span>></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> {<span class="hljs-attr">...props</span>} <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;Toggle Color&quot;</span> <span class="hljs-attr">color</span>=<span class="hljs-string">{</span>&quot;<span class="hljs-attr">mediumseagreen</span>&quot;} /></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.render_text}</span>></span>Render Count: {renderCounter.current}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>></span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>></span></span>)
}


<span class="hljs-keyword">const</span> <span class="hljs-title function_">CustomItem</span> = (<span class="hljs-params">{ backColor }</span>) => {

  <span class="hljs-keyword">const</span> renderCounter = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);
  renderCounter.<span class="hljs-property">current</span> = renderCounter.<span class="hljs-property">current</span> + <span class="hljs-number">1</span>;

  <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.item}</span>></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[{</span> <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">backColor</span> }, <span class="hljs-attr">styles.item_text</span>]}></span>Sibling Component<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>></span>Render Count:{renderCounter.current}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>></span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>></span></span>)
}


<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {

  <span class="hljs-keyword">const</span> [backColor, setBackColor] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&quot;crimson&quot;</span>)

  <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.body}</span>></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">CustomButton</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span> =></span> { setBackColor(val => val == &quot;crimson&quot; ? &quot;dodgerblue&quot; : &quot;crimson&quot;) }} />
    <span class="hljs-tag">&lt;<span class="hljs-name">CustomItem</span> <span class="hljs-attr">backColor</span>=<span class="hljs-string">{backColor}</span> /></span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>></span></span>)
}


<span class="hljs-keyword">const</span> styles = <span class="hljs-title class_">StyleSheet</span>.<span class="hljs-title function_">create</span>({
  <span class="hljs-attr">body</span>: {
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">&quot;row&quot;</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">&quot;center&quot;</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">&quot;center&quot;</span>,
    <span class="hljs-attr">backgroundColor</span>:<span class="hljs-string">&quot;ghostwhite&quot;</span>
  },
  <span class="hljs-attr">button_wrapper</span>: {
    <span class="hljs-attr">width</span>: <span class="hljs-string">&quot;50%&quot;</span>,
    <span class="hljs-attr">margin</span>: <span class="hljs-number">10</span>
  },
  <span class="hljs-attr">item</span>: {
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">80</span>,
    <span class="hljs-attr">margin</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">&quot;center&quot;</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">&quot;center&quot;</span>
  },
  <span class="hljs-attr">item_text</span>: {
    <span class="hljs-attr">height</span>: <span class="hljs-number">50</span>,
    <span class="hljs-attr">width</span>: <span class="hljs-string">&quot;100%&quot;</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">color</span>: <span class="hljs-string">&quot;white&quot;</span>,
    <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">&quot;bold&quot;</span>,
    <span class="hljs-attr">textAlign</span>: <span class="hljs-string">&quot;center&quot;</span>,
    <span class="hljs-attr">textAlignVertical</span>: <span class="hljs-string">&quot;center&quot;</span>,
  },
  <span class="hljs-attr">render_text</span>: {
    <span class="hljs-attr">textAlign</span>: <span class="hljs-string">&quot;center&quot;</span>,
    <span class="hljs-attr">marginTop</span>: <span class="hljs-number">5</span>
  }
});
</code></pre><pre class=" "><code display-name="React.js" style="max-height:31rem;" class="hljs language-jsx"><span class="hljs-keyword">import</span> { useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;


<span class="hljs-keyword">const</span> <span class="hljs-title function_">CustomButton</span> = (<span class="hljs-params">props</span>) => {
  <span class="hljs-keyword">const</span> renderCounter = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);
  renderCounter.<span class="hljs-property">current</span> = renderCounter.<span class="hljs-property">current</span> + <span class="hljs-number">1</span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.button_wrapper}</span>></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> {<span class="hljs-attr">...props</span>} <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Toggle Color&quot;</span>/></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.render_text}</span>></span> Render Count: {renderCounter.current} <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span></span>
  );
};


<span class="hljs-keyword">const</span> <span class="hljs-title function_">CustomItem</span> = (<span class="hljs-params">{ backColor }</span>) => {
  <span class="hljs-keyword">const</span> renderCounter = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);
  renderCounter.<span class="hljs-property">current</span> = renderCounter.<span class="hljs-property">current</span> + <span class="hljs-number">1</span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.item}</span>></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">backColor</span>, <span class="hljs-attr">...styles.item_text</span> }}></span> Sibling Component <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>></span>Render Count:{renderCounter.current}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span></span>
  );
};


<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [backColor, setBackColor] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&quot;crimson&quot;</span>);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.body}</span>></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">CustomButton</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> { setBackColor((val) => (val == &quot;crimson&quot; ? &quot;dodgerblue&quot; : &quot;crimson&quot;)) }} />
      <span class="hljs-tag">&lt;<span class="hljs-name">CustomItem</span> <span class="hljs-attr">backColor</span>=<span class="hljs-string">{backColor}</span> /></span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span></span>
  );
}


<span class="hljs-keyword">const</span> styles = {
  <span class="hljs-attr">body</span>: {
    <span class="hljs-attr">display</span>: <span class="hljs-string">&quot;flex&quot;</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">&quot;center&quot;</span>
  },
  <span class="hljs-attr">button_wrapper</span>: {
    <span class="hljs-attr">width</span>: <span class="hljs-string">&quot;50%&quot;</span>,
    <span class="hljs-attr">display</span>: <span class="hljs-string">&quot;flex&quot;</span>,
    <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">&quot;column&quot;</span>,
    <span class="hljs-attr">margin</span>: <span class="hljs-number">10</span>
  },
  <span class="hljs-attr">item</span>: {
    <span class="hljs-attr">display</span>: <span class="hljs-string">&quot;flex&quot;</span>,
    <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">&quot;column&quot;</span>,
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">margin</span>: <span class="hljs-string">&quot;10px&quot;</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">&quot;center&quot;</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">&quot;center&quot;</span>
  },
  <span class="hljs-attr">item_text</span>: {
    <span class="hljs-attr">width</span>: <span class="hljs-string">&quot;100%&quot;</span>,
    <span class="hljs-attr">padding</span>: <span class="hljs-string">&quot;0.5rem&quot;</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">color</span>: <span class="hljs-string">&quot;white&quot;</span>,
    <span class="hljs-attr">textAlign</span>: <span class="hljs-string">&quot;center&quot;</span>
  },
  <span class="hljs-attr">render_text</span>: {
    <span class="hljs-attr">textAlign</span>: <span class="hljs-string">&quot;center&quot;</span>,
    <span class="hljs-attr">marginTop</span>: <span class="hljs-string">&quot;10px&quot;</span>
  }
};
</code></pre></div></div>
<br/>
<p><strong>Optimized method</strong> (Bottom part of gif)</p>
<div class="codetabs"><div class="codetabs-topbar"><button onclick="changeTabByButton(this, 0)" class="codetabs-selected">React Native</button><button onclick="changeTabByButton(this, 1)">React.js</button></div><button onclick="copyCode(this)" class="codetabs-copy"></button><div class="codetabs-content"><pre class=" codetabs-active"><code display-name="React Native" style="max-height:31rem;" class="hljs language-jsx"><span class="hljs-keyword">import</span> { forwardRef, useImperativeHandle, useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">View</span>, <span class="hljs-title class_">StyleSheet</span>, <span class="hljs-title class_">Button</span>, <span class="hljs-title class_">Text</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-native&quot;</span>;


<span class="hljs-keyword">const</span> <span class="hljs-title function_">CustomButton</span> = (<span class="hljs-params">props</span>) => {

  <span class="hljs-keyword">const</span> renderCounter = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);
  renderCounter.<span class="hljs-property">current</span> = renderCounter.<span class="hljs-property">current</span> + <span class="hljs-number">1</span>;

  <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.button_wrapper}</span>></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> {<span class="hljs-attr">...props</span>} <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;Toggle Color&quot;</span> <span class="hljs-attr">color</span>=<span class="hljs-string">{</span>&quot;<span class="hljs-attr">mediumseagreen</span>&quot;} /></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.render_text}</span>></span>Render Count: {renderCounter.current}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>></span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>></span></span>)
}


<span class="hljs-keyword">const</span> <span class="hljs-title class_">CustomItem</span> = <span class="hljs-title function_">forwardRef</span>(<span class="hljs-function">(<span class="hljs-params">props, ref</span>) =></span> {

  <span class="hljs-keyword">const</span> [backColor, setBackColor] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&quot;crimson&quot;</span>)
  <span class="hljs-keyword">const</span> renderCounter = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);
  renderCounter.<span class="hljs-property">current</span> = renderCounter.<span class="hljs-property">current</span> + <span class="hljs-number">1</span>;

  <span class="hljs-title function_">useImperativeHandle</span>(ref, <span class="hljs-function">() =></span> ({
    <span class="hljs-title function_">toggleColor</span>(<span class="hljs-params"></span>) {
      <span class="hljs-title function_">setBackColor</span>(<span class="hljs-function"><span class="hljs-params">val</span> =></span> val == <span class="hljs-string">&quot;crimson&quot;</span> ? <span class="hljs-string">&quot;dodgerblue&quot;</span> : <span class="hljs-string">&quot;crimson&quot;</span>)
    }
    <span class="hljs-comment">// or</span>
    <span class="hljs-comment">//</span>
    <span class="hljs-comment">// toggleColor: ()=>{</span>
    <span class="hljs-comment">//   setBackColor(val => val == &quot;crimson&quot; ? &quot;dodgerblue&quot; : &quot;crimson&quot;)</span>
    <span class="hljs-comment">// }</span>

  }), []);

  <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.item}</span>></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[{</span> <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">backColor</span> }, <span class="hljs-attr">styles.item_text</span>]}></span>Sibling Component<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>></span>Render Count: {renderCounter.current}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>></span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>></span></span>)
})


<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {

  <span class="hljs-keyword">const</span> itemRef = <span class="hljs-title function_">useRef</span>()

  <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.body}</span>></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">CustomButton</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span> =></span> { itemRef.current.toggleColor() }} />
    <span class="hljs-tag">&lt;<span class="hljs-name">CustomItem</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{itemRef}</span> /></span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>></span></span>)
}


<span class="hljs-keyword">const</span> styles = <span class="hljs-title class_">StyleSheet</span>.<span class="hljs-title function_">create</span>({
  <span class="hljs-attr">body</span>: {
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">&quot;row&quot;</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">&quot;center&quot;</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">&quot;center&quot;</span>,
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&quot;ghostwhite&quot;</span>
  },
  <span class="hljs-attr">button_wrapper</span>: {
    <span class="hljs-attr">width</span>: <span class="hljs-string">&quot;50%&quot;</span>,
    <span class="hljs-attr">margin</span>: <span class="hljs-number">10</span>
  },
  <span class="hljs-attr">item</span>: {
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">80</span>,
    <span class="hljs-attr">margin</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">&quot;center&quot;</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">&quot;center&quot;</span>
  },
  <span class="hljs-attr">item_text</span>: {
    <span class="hljs-attr">height</span>: <span class="hljs-number">50</span>,
    <span class="hljs-attr">width</span>: <span class="hljs-string">&quot;100%&quot;</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">color</span>: <span class="hljs-string">&quot;white&quot;</span>,
    <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">&quot;bold&quot;</span>,
    <span class="hljs-attr">textAlign</span>: <span class="hljs-string">&quot;center&quot;</span>,
    <span class="hljs-attr">textAlignVertical</span>: <span class="hljs-string">&quot;center&quot;</span>,
  },
  <span class="hljs-attr">render_text</span>: {
    <span class="hljs-attr">textAlign</span>: <span class="hljs-string">&quot;center&quot;</span>,
    <span class="hljs-attr">marginTop</span>: <span class="hljs-number">5</span>
  }
});
</code></pre><pre class=" "><code display-name="React.js" style="max-height:31rem;" class="hljs language-jsx"><span class="hljs-keyword">import</span> { forwardRef, useImperativeHandle, useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;


<span class="hljs-keyword">const</span> <span class="hljs-title function_">CustomButton</span> = (<span class="hljs-params">props</span>) => {
  <span class="hljs-keyword">const</span> renderCounter = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);
  renderCounter.<span class="hljs-property">current</span> = renderCounter.<span class="hljs-property">current</span> + <span class="hljs-number">1</span>;

  <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.button_wrapper}</span>></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> {<span class="hljs-attr">...props</span>} <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Toggle Color&quot;</span> /></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.render_text}</span>></span> Render Count: {renderCounter.current} <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span></span>);
}


<span class="hljs-keyword">const</span> <span class="hljs-title class_">CustomItem</span> = <span class="hljs-title function_">forwardRef</span>(<span class="hljs-function">(<span class="hljs-params">props, ref</span>) =></span> {
  <span class="hljs-keyword">const</span> [backColor, setBackColor] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&quot;crimson&quot;</span>);
  <span class="hljs-keyword">const</span> renderCounter = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);
  renderCounter.<span class="hljs-property">current</span> = renderCounter.<span class="hljs-property">current</span> + <span class="hljs-number">1</span>;

  <span class="hljs-title function_">useImperativeHandle</span>(ref, <span class="hljs-function">() =></span> ({
    <span class="hljs-title function_">toggleColor</span>(<span class="hljs-params"></span>) {
      <span class="hljs-title function_">setBackColor</span>(<span class="hljs-function"><span class="hljs-params">val</span> =></span> val == <span class="hljs-string">&quot;crimson&quot;</span> ? <span class="hljs-string">&quot;dodgerblue&quot;</span> : <span class="hljs-string">&quot;crimson&quot;</span>)
    }
    <span class="hljs-comment">// or</span>
    <span class="hljs-comment">//</span>
    <span class="hljs-comment">// toggleColor: ()=>{</span>
    <span class="hljs-comment">//   setBackColor(val => val == &quot;crimson&quot; ? &quot;dodgerblue&quot; : &quot;crimson&quot;)</span>
    <span class="hljs-comment">// }</span>

  }), []);

  <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.item}</span>></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">backColor</span>, <span class="hljs-attr">...styles.item_text</span> }}></span> Sibling Component <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>></span>Render Count:{renderCounter.current}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span></span>);
})


<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {

  <span class="hljs-keyword">const</span> itemRef = <span class="hljs-title function_">useRef</span>()

  <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.body}</span>></span>
    <span class="hljs-tag">&lt;<span class="hljs-name">CustomButton</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> { itemRef.current.toggleColor() }} />
    <span class="hljs-tag">&lt;<span class="hljs-name">CustomItem</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{itemRef}</span> /></span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span></span>);
}


<span class="hljs-keyword">const</span> styles = {
  <span class="hljs-attr">body</span>: {
    <span class="hljs-attr">display</span>: <span class="hljs-string">&quot;flex&quot;</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">&quot;center&quot;</span>
  },
  <span class="hljs-attr">button_wrapper</span>: {
    <span class="hljs-attr">width</span>: <span class="hljs-string">&quot;50%&quot;</span>,
    <span class="hljs-attr">display</span>: <span class="hljs-string">&quot;flex&quot;</span>,
    <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">&quot;column&quot;</span>,
    <span class="hljs-attr">margin</span>: <span class="hljs-number">10</span>
  },
  <span class="hljs-attr">item</span>: {
    <span class="hljs-attr">display</span>: <span class="hljs-string">&quot;flex&quot;</span>,
    <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">&quot;column&quot;</span>,
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">margin</span>: <span class="hljs-string">&quot;10px&quot;</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">&quot;center&quot;</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">&quot;center&quot;</span>
  },
  <span class="hljs-attr">item_text</span>: {
    <span class="hljs-attr">width</span>: <span class="hljs-string">&quot;100%&quot;</span>,
    <span class="hljs-attr">padding</span>: <span class="hljs-string">&quot;0.5rem&quot;</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">color</span>: <span class="hljs-string">&quot;white&quot;</span>,
    <span class="hljs-attr">textAlign</span>: <span class="hljs-string">&quot;center&quot;</span>
  },
  <span class="hljs-attr">render_text</span>: {
    <span class="hljs-attr">textAlign</span>: <span class="hljs-string">&quot;center&quot;</span>,
    <span class="hljs-attr">marginTop</span>: <span class="hljs-string">&quot;10px&quot;</span>
  }
};
</code></pre></div></div>
<br/>
<p><strong>References:</strong></p>
<ul>
<li><a href="https://react.dev/reference/react/useImperativeHandle">What is useImperativeHandle?</a></li>
<li><a href="https://youtu.be/zpEyAOkytkU?si=F59NPRLxyjnHZhv8&amp;t=48">How to use useImperativeHandle?</a></li>
<li><a href="https://stackoverflow.com/a/48645842/22302305">How to declare functions inside objects in js?</a></li>
</ul></article><div class="tag-container"><a href="/?tags=react-native" class="tag">react-native</a><a href="/?tags=reactjs" class="tag">reactjs</a></div><hr style="margin-top: 2rem"/><footer><a id="footer-logo-wrapper" href="/"><img id="footer-logo" alt="logo" src="/static/logo.png"/></a><div id="footer-links" style="margin-bottom: 2rem"><a href="https://github.com/sourcesnippet/sourcesnippet.github.io" target="_blank">Repository</a><hr/><a href="https://github.com/sourcesnippet/sourcesnippet.github.io/issues" target="_blank">Report Bug</a></div><div id="footer-warning">Scraping data for AI training or any other purpose is strictly prohibited. <a href="/terms#ai-data-scraping-policy" aria-label="Learn more about scraping policy">View Terms</a></div></footer></body></html>